# ========== TELEGRAM BOT ==========
# Токен бота от @BotFather
BOT_TOKEN=your_bot_token_here

# ID администраторов (через запятую, без пробелов)
ADMIN_IDS=123456789,987654321

# ========== ADMIN PANEL ==========
# PRODUCTION v2.1: Хеш пароля для входа в админ-панель (bcrypt с солью)
# SEC-001 FIX: Используйте bcrypt вместо SHA-256!
#
# ⚠️ ВАЖНО: Храните только хеш, а не сам пароль!
#
# Для генерации нового bcrypt хеша:
#   python generate_admin_hash.py
#
# Пример ниже - bcrypt хеш от "admin123" (НЕ ИСПОЛЬЗУЙТЕ в production!)
# OLD SHA-256 хеши всё ещё поддерживаются для обратной совместимости
ADMIN_PASS_HASH=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5ViT8QJy4E6M6

# ========== DATABASE ==========
# Настройки базы данных

# ВАЖНО: DATABASE_URL - основной параметр для подключения к БД

# Для SQLite (по умолчанию):
DATABASE_URL=sqlite+aiosqlite:///./bot.db

# Для PostgreSQL (раскомментируйте и замените DATABASE_URL):
# DATABASE_URL=postgresql+asyncpg://postgres:your_db_password@localhost:5432/training_bot

# ARCH-003: Production connection pooling settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Дополнительные настройки
DEBUG=False
DB_ECHO=False  # Выводить SQL запросы в лог (только для отладки)

# ========== REDIS (PRODUCTION v2.1) ==========
# CRIT-002, CRIT-003, OPS-002 FIX: Redis для FSM и rate limiting
# Required для multi-instance поддержки и production deployment

# Redis connection URL
REDIS_URL=redis://localhost:6379

# Redis database indexes (0-15)
REDIS_FSM_DB=0        # FSM state storage
REDIS_THROTTLE_DB=1   # Rate limiting storage

# Docker: Redis URL автоматически устанавливается в redis://redis:6379

# ========== LOGGING ==========
# Уровень логирования: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ========== MONITORING ==========
# Sentry DSN for error tracking (optional, but recommended for production)
# Get your DSN from: https://sentry.io/
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_RELEASE=1.0.0

# ========== BACKUP CONFIGURATION ==========
# Backup retention (days)
# BACKUP_RETENTION_DAYS=30

# AWS S3 for cloud backups (optional)
# BACKUP_S3_BUCKET=your-backup-bucket
# BACKUP_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key

# Google Drive for backups (optional)
# GDRIVE_FOLDER_ID=your-folder-id

# ========== PRODUCTION v2.1 NOTES ==========
# 1. Скопируйте этот файл в .env и заполните своими значениями
# 2. Никогда не коммитьте .env файл в git!
# 3. Используйте СИЛЬНЫЕ bcrypt пароли (python generate_admin_hash.py)
# 4. Для production ОБЯЗАТЕЛЬНО: Redis + PostgreSQL
# 5. Redis КРИТИЧЕСКИ ВАЖЕН для multi-instance deployment
# 6. Настройте connection pooling для высокой нагрузки
#
# Production Readiness Checklist:
# ✓ Redis настроен и доступен (REDIS_URL)
# ✓ PostgreSQL вместо SQLite (DATABASE_URL)
# ✓ bcrypt пароль для админки (ADMIN_PASS_HASH)
# ✓ Sentry для мониторинга (SENTRY_DSN)
# ✓ Connection pooling настроен (DB_POOL_SIZE)
# ✓ Сильный BOT_TOKEN от @BotFather
# ✓ .env не в Git (.gitignore проверен)
